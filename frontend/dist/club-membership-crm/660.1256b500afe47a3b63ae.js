(self.webpackChunkclub_membership_crm=self.webpackChunkclub_membership_crm||[]).push([[660],{5660:(t,e,r)=>{"use strict";r.r(e),r.d(e,{LoginModule:()=>q});var n=r(1116),i=r(3464),o=r(1041),a=r(3530),s=r(5366),c=r(5963),u=r(786),m=r(5965),l=r(3070),p=r(3841),g=r(9550),h=r(4369),f=r(7064);function d(t,e){if(1&t&&(s.TgZ(0,"mat-option",14),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}const Z=[{path:"",component:(()=>{class t{constructor(t,e,r,n,i){this.router=t,this.communicationService=e,this.accountService=r,this.route=n,this.fb=i,this.accountService.token&&this.router.navigate(["/"])}ngOnInit(){this.form=this.fb.group({username:["",o.kI.required],password:["",o.kI.required],branchId:["",o.kI.required]}),this.branches$=this.communicationService.fetchBranches(),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}authenticate(){this.accountService.login(this.form.value.username,this.form.value.password,this.form.value.branchId).pipe((0,a.P)()).subscribe(t=>{this.router.navigate([this.returnUrl])},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(i.F0),s.Y36(c.O),s.Y36(u.K),s.Y36(i.gz),s.Y36(o.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-login"]],decls:21,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-page"],["fxLayoutAlign","center start"],[1,"left-part"],["width","400","src","/assets/primal-logo.svg",1,"primal-logo"],[1,"right-part"],["fxLayout","row"],[1,"main-sign","gray"],[1,"main-sign","blue"],["fxLayout","column",3,"formGroup","ngSubmit"],["placeholder","Please select branch","formControlName","branchId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Username","matInput","","formControlName","username"],["placeholder","Password","type","password","matInput","","formControlName","password"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"h1",6),s._uU(7,"primal "),s.qZA(),s.TgZ(8,"h1",7),s._uU(9,"gym"),s.qZA(),s.qZA(),s.TgZ(10,"form",8),s.NdJ("ngSubmit",function(){return e.authenticate()}),s.TgZ(11,"mat-form-field"),s.TgZ(12,"mat-select",9),s.YNc(13,d,2,2,"mat-option",10),s.ALo(14,"async"),s.qZA(),s.qZA(),s.TgZ(15,"mat-form-field"),s._UZ(16,"input",11),s.qZA(),s.TgZ(17,"mat-form-field"),s._UZ(18,"input",12),s.qZA(),s.TgZ(19,"button",13),s._uU(20,"Login"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(10),s.Q6J("formGroup",e.form),s.xp6(3),s.Q6J("ngForOf",s.lcZ(14,3,e.branches$)),s.xp6(6),s.Q6J("disabled",e.form.invalid))},directives:[m.xw,m.Wh,o._Y,o.JL,o.sg,l.KE,p.gD,o.JJ,o.u,n.sg,g.Nt,o.Fj,h.lW,f.ey],pipes:[n.Ov],styles:[".login-page[_ngcontent-%COMP%]{height:100vh;position:relative;z-index:10}.main-sign.blue[_ngcontent-%COMP%]{color:#0773b2}.main-sign.gray[_ngcontent-%COMP%]{color:#414143}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.Bz.forChild(Z)],i.Bz]}),t})();var b=r(8030);let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,v,b.m]]}),t})()}}]);