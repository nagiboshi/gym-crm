(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"7wo0":function(t,e,a){"use strict";a.r(e),a.d(e,"SettingsModule",function(){return ft});var n=a("ofXK"),i=a("PCNd"),c=a("tyNb"),o=a("fXoL"),s=a("LvDl"),r=a("0IaG"),l=a("bTqV");let m=(()=>{class t{constructor(t){this.prompt=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(r.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["delete-prompt-dialog"]],decls:7,vars:2,consts:[["mat-dialog-close","","color","accent","mat-button",""],["color","warn","mat-raised-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(o.Tb(0,"mat-dialog-content"),o.Ec(1),o.Sb(),o.Tb(2,"mat-dialog-actions"),o.Tb(3,"button",0),o.Ec(4,"Cancel"),o.Sb(),o.Tb(5,"button",1),o.Ec(6,"Yes"),o.Sb(),o.Sb()),2&t&&(o.Cb(1),o.Gc(" ",e.prompt," "),o.Cb(4),o.mc("mat-dialog-close",!0))},directives:[r.e,r.c,l.b,r.d],styles:[""]}),t})();var b=a("M9IT"),d=a("+0xr"),u=a("3Pt+"),g=a("XiUz"),p=a("kmnG"),f=a("d3UM"),h=a("qFsG"),C=a("FKr1");function S(t,e){if(1&t&&(o.Tb(0,"mat-option",6),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.mc("value",t.id),o.Cb(1),o.Fc(t.name)}}let w=(()=>{class t{constructor(t,e,a){this.dialogRef=t,this.fb=e,this.data=a}ngOnInit(){this.formGroup=this.fb.group({id:[this.data.classData.id],name:[this.data.classData.name,[u.v.required]],categoryId:[this.data.classData.categoryId,[u.v.required]]})}merge(){this.dialogRef.close(this.formGroup.value)}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(r.g),o.Nb(u.f),o.Nb(r.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-create-class-dialog"]],decls:11,vars:3,consts:[["fxLayout","column",3,"formGroup","ngSubmit"],["placeholder","Select class category","formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Input class name","matInput","","formControlName","name"],["mat-dialog-close","","color","warn","mat-button",""],["color","primary","mat-raised-button","","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(o.Tb(0,"form",0),o.bc("ngSubmit",function(){return e.merge()}),o.Tb(1,"mat-form-field"),o.Tb(2,"mat-select",1),o.Dc(3,S,2,2,"mat-option",2),o.Sb(),o.Sb(),o.Tb(4,"mat-form-field"),o.Ob(5,"input",3),o.Sb(),o.Tb(6,"mat-dialog-actions"),o.Tb(7,"button",4),o.Ec(8,"Cancel"),o.Sb(),o.Tb(9,"button",5),o.Ec(10,"Save"),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.mc("formGroup",e.formGroup),o.Cb(3),o.mc("ngForOf",e.data.classCategories),o.Cb(6),o.mc("disabled",e.formGroup.invalid))},directives:[u.w,u.q,g.c,u.j,p.c,f.a,u.p,u.i,n.m,h.b,u.c,r.c,l.b,r.d,C.l],styles:[""]}),t})();var v=a("XgXc"),y=a("NFeN");a("wd/R");let O=(()=>{class t{constructor(t){this.communicationService=t}transform(t,...e){let[a]=e;return this.communicationService.getClassCategories().find(t=>t.id==a).name}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(v.a))},t.\u0275pipe=o.Mb({name:"classCategoryName",type:t,pure:!0}),t})();function D(t,e){if(1&t&&(o.Tb(0,"mat-option",21),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.mc("value",t.id),o.Cb(1),o.Fc(t.name)}}function T(t,e){if(1&t){const t=o.Ub();o.Tb(0,"th",16),o.Tb(1,"div",17),o.Tb(2,"div",18),o.Ec(3," Classes"),o.Sb(),o.Tb(4,"mat-form-field"),o.Tb(5,"mat-select",19),o.bc("valueChange",function(e){return o.xc(t),o.fc().filterOutClassesByType(e)}),o.Dc(6,D,2,2,"mat-option",20),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Cb(6),o.mc("ngForOf",t.classCategories)}}function P(t,e){if(1&t&&(o.Tb(0,"td",22),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.Cb(1),o.Gc(" ",t.name," ")}}function M(t,e){1&t&&o.Ob(0,"th",16)}function x(t,e){if(1&t&&(o.Tb(0,"td",22),o.Ec(1),o.gc(2,"classCategoryName"),o.Sb()),2&t){const t=e.$implicit;o.Cb(1),o.Gc(" ",o.ic(2,1,t,t.categoryId)," ")}}function _(t,e){1&t&&o.Ob(0,"th",16)}function k(t,e){if(1&t){const t=o.Ub();o.Tb(0,"td",23),o.Tb(1,"button",24),o.bc("click",function(){o.xc(t);const a=e.$implicit;return o.fc().editClass(a)}),o.Tb(2,"mat-icon"),o.Ec(3,"edit"),o.Sb(),o.Sb(),o.Sb()}}function I(t,e){1&t&&o.Ob(0,"th",16)}function N(t,e){if(1&t){const t=o.Ub();o.Tb(0,"td",25),o.Tb(1,"button",24),o.bc("click",function(){o.xc(t);const a=e.$implicit;return o.fc().remove(a)}),o.Tb(2,"mat-icon"),o.Ec(3,"delete"),o.Sb(),o.Sb(),o.Sb()}}function E(t,e){1&t&&o.Ob(0,"tr",26)}function R(t,e){1&t&&o.Ob(0,"tr",27)}function G(t,e){1&t&&(o.Tb(0,"tr",28),o.Tb(1,"td",29),o.Ec(2,"No classes created yet"),o.Sb(),o.Sb())}const A=function(){return[5]};let L=(()=>{class t{constructor(t,e){this.communicationService=t,this.dialog=e,this.classesColumns=["name","classCategory","edit","delete"],this.classCategories=[{id:-1,name:"All"}]}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.classCategories=[...this.classCategories,...this.communicationService.getClassCategories()],this.dataSource=new d.l(this.communicationService.getClasses()),this.dataSource.filterPredicate=(t,e)=>!e||-1==e||t.categoryId==e,this.classesSub=this.communicationService.classes$.subscribe(t=>this.dataSource.data=t)}filterOutClassesByType(t){this.dataSource.filter=t}_newClass(){return{id:0,categoryId:Object(s.first)(this.communicationService.getClassCategories()).id,name:""}}addNewClass(){this.showMergeClassDialog()}showMergeClassDialog(t){const e={classCategories:this.communicationService.getClassCategories(),classData:t||this._newClass()};this.dialog.open(w,{data:e}).afterClosed().subscribe(t=>{t&&this.communicationService.addClass(t)})}remove(t){this.dialog.open(m,{data:`Are you sure you want to delete class ${t.name}`}).afterClosed().subscribe(e=>{e&&this.communicationService.removeClass(t.id)})}editClass(t){this.showMergeClassDialog(t)}ngOnDestroy(){this.classesSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(v.a),o.Nb(r.b))},t.\u0275cmp=o.Hb({type:t,selectors:[["class-settings"]],viewQuery:function(t,e){if(1&t&&o.Ic(b.a,1),2&t){let t;o.tc(t=o.cc())&&(e.paginator=t.first)}},decls:22,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-between",1,"class-settings-container"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","classCategory"],["matColumnDef","edit"],["class","edit-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["class","delete-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["fxLayoutAlign","space-between center"],["showFirstLastButtons","",3,"hidePageSize","pageSizeOptions"],["mat-mini-fab","",1,"add-button",3,"click"],["mat-header-cell",""],["fxLayoutAlign","start center","fxLayout",""],[1,"table-header-title"],["placeholder","Filter by",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-cell",""],["mat-cell","",1,"edit-cell"],["mat-flat-button","",3,"click"],["mat-cell","",1,"delete-cell"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","3",1,"mat-cell"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"table",1),o.Rb(2,2),o.Dc(3,T,7,1,"th",3),o.Dc(4,P,2,1,"td",4),o.Qb(),o.Rb(5,5),o.Dc(6,M,1,0,"th",3),o.Dc(7,x,3,4,"td",4),o.Qb(),o.Rb(8,6),o.Dc(9,_,1,0,"th",3),o.Dc(10,k,4,0,"td",7),o.Qb(),o.Rb(11,8),o.Dc(12,I,1,0,"th",3),o.Dc(13,N,4,0,"td",9),o.Qb(),o.Dc(14,E,1,0,"tr",10),o.Dc(15,R,1,0,"tr",11),o.Dc(16,G,3,0,"tr",12),o.Sb(),o.Tb(17,"div",13),o.Ob(18,"mat-paginator",14),o.Tb(19,"button",15),o.bc("click",function(){return e.addNewClass()}),o.Tb(20,"mat-icon"),o.Ec(21,"add "),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.Cb(1),o.mc("dataSource",e.dataSource),o.Cb(13),o.mc("matHeaderRowDef",e.classesColumns),o.Cb(1),o.mc("matRowDefColumns",e.classesColumns),o.Cb(3),o.mc("hidePageSize",!0)("pageSizeOptions",o.oc(5,A)))},directives:[g.c,g.b,d.k,d.c,d.e,d.b,d.g,d.j,d.h,b.a,l.b,y.a,d.d,p.c,f.a,n.m,C.l,d.a,d.f,d.i],pipes:[O],styles:[".delete-cell[_ngcontent-%COMP%], .edit-cell[_ngcontent-%COMP%]{width:30px;cursor:pointer;text-align:center}.delete-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .edit-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;min-width:35px;max-width:35px}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   .table-header-title[_ngcontent-%COMP%]{margin-right:20px}.class-settings-container[_ngcontent-%COMP%]{height:353px;max-height:353px}"]}),t})(),F=(()=>{class t{constructor(t,e,a,n){this.communicationService=t,this.dialogRef=e,this.fb=a,this.data=n}ngOnInit(){this.formGroup=this.fb.group({id:[this.data.id],name:[this.data.name,[u.v.required]]})}merge(){this.dialogRef.close(this.formGroup.value)}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(v.a),o.Nb(r.g),o.Nb(u.f),o.Nb(r.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["payment-method-create-class-dialog"]],decls:8,vars:1,consts:[["fxLayout","column",3,"formGroup","ngSubmit"],["placeholder","Payment method name","matInput","","formControlName","name"],["mat-dialog-close","","color","warn","mat-button",""],["color","primary","mat-raised-button","","type","submit"]],template:function(t,e){1&t&&(o.Tb(0,"form",0),o.bc("ngSubmit",function(){return e.merge()}),o.Tb(1,"mat-form-field"),o.Ob(2,"input",1),o.Sb(),o.Tb(3,"mat-dialog-actions"),o.Tb(4,"button",2),o.Ec(5,"Cancel"),o.Sb(),o.Tb(6,"button",3),o.Ec(7,"Save"),o.Sb(),o.Sb(),o.Sb()),2&t&&o.mc("formGroup",e.formGroup)},directives:[u.w,u.q,g.c,u.j,p.c,h.b,u.c,u.p,u.i,r.c,l.b,r.d],styles:[""]}),t})();var H=a("Dh3D");function Q(t,e){1&t&&(o.Tb(0,"th",16),o.Ec(1,"Payment Methods"),o.Sb())}function z(t,e){if(1&t&&(o.Tb(0,"td",17),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.Cb(1),o.Gc(" ",t.name," ")}}function $(t,e){1&t&&o.Ob(0,"th",16)}function q(t,e){if(1&t){const t=o.Ub();o.Tb(0,"td",18),o.Tb(1,"mat-icon",19),o.bc("click",function(){o.xc(t);const a=e.$implicit;return o.fc().showPaymentMethodDialog(a)}),o.Ec(2,"edit"),o.Sb(),o.Sb()}}function j(t,e){1&t&&o.Ob(0,"th",20)}function U(t,e){1&t&&(o.Tb(0,"td",21),o.Tb(1,"mat-icon"),o.Ec(2,"delete"),o.Sb(),o.Sb())}function B(t,e){1&t&&o.Ob(0,"tr",22)}function X(t,e){1&t&&o.Ob(0,"tr",23)}function K(t,e){1&t&&(o.Tb(0,"tr",24),o.Tb(1,"td",25),o.Ec(2,"No payment methods created yet"),o.Sb(),o.Sb())}const V=function(){return[5]};let Y=(()=>{class t{constructor(t,e){this.dialog=t,this.communicationService=e,this.displayColumns=["name","edit","delete"]}ngOnInit(){this.dataSource=new d.l(this.communicationService.getPaymentMethods())}_newPaymentMethod(){return{id:0,name:""}}ngAfterViewInit(){this.dataSource.paginator=this.paginator}remove(t){this.dialog.open(m,{data:`Are you sure you want to delete class ${t.name}`}).afterClosed().subscribe(e=>{e&&this.communicationService.removePaymentMethod(t.id)})}showPaymentMethodDialog(t){t=null!=t?t:this._newPaymentMethod(),this.dialog.open(F,{data:t}).afterClosed().subscribe(t=>{t&&this.communicationService.addPaymentMethod(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(r.b),o.Nb(v.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["payment-methods-settings"]],viewQuery:function(t,e){if(1&t&&o.Ic(b.a,1),2&t){let t;o.tc(t=o.cc())&&(e.paginator=t.first)}},decls:19,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-between",1,"payment-settings-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["class","edit-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["mat-header-cell","",4,"matHeaderCellDef"],["class","delete-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["fxLayoutAlign","space-between center"],["showFirstLastButtons","",3,"hidePageSize","pageSizeOptions"],["mat-mini-fab","",1,"add-button",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"edit-cell"],[3,"click"],["mat-header-cell",""],["mat-cell","",1,"delete-cell"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","3",1,"mat-cell"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"table",1),o.Rb(2,2),o.Dc(3,Q,2,0,"th",3),o.Dc(4,z,2,1,"td",4),o.Qb(),o.Rb(5,5),o.Dc(6,$,1,0,"th",3),o.Dc(7,q,3,0,"td",6),o.Qb(),o.Rb(8,7),o.Dc(9,j,1,0,"th",8),o.Dc(10,U,3,0,"td",9),o.Qb(),o.Dc(11,B,1,0,"tr",10),o.Dc(12,X,1,0,"tr",11),o.Dc(13,K,3,0,"tr",12),o.Sb(),o.Tb(14,"div",13),o.Ob(15,"mat-paginator",14),o.Tb(16,"button",15),o.bc("click",function(){return e.showPaymentMethodDialog()}),o.Tb(17,"mat-icon"),o.Ec(18,"add "),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.Cb(1),o.mc("dataSource",e.dataSource),o.Cb(10),o.mc("matHeaderRowDef",e.displayColumns),o.Cb(1),o.mc("matRowDefColumns",e.displayColumns),o.Cb(3),o.mc("hidePageSize",!0)("pageSizeOptions",o.oc(5,V)))},directives:[g.c,g.b,d.k,H.a,d.c,d.e,d.b,d.g,d.j,d.h,b.a,l.b,y.a,d.d,H.b,d.a,d.f,d.i],styles:[".delete-cell[_ngcontent-%COMP%], .edit-cell[_ngcontent-%COMP%]{width:30px;cursor:pointer;text-align:center}.delete-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .edit-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;min-width:35px;max-width:35px}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   .table-header-title[_ngcontent-%COMP%]{margin-right:20px}.payment-settings-container[_ngcontent-%COMP%]{height:353px;max-height:353px}"]}),t})();var J=a("bSwM");function W(t,e){1&t&&(o.Tb(0,"h6",11),o.Ec(1,"*You have unsaved changes"),o.Sb())}function Z(t,e){if(1&t){const t=o.Ub();o.Rb(0),o.Rb(1,12),o.Tb(2,"div",13),o.Tb(3,"mat-form-field",14),o.Ob(4,"input",15),o.Sb(),o.Sb(),o.Tb(5,"div",16),o.Ob(6,"mat-checkbox",17),o.Sb(),o.Tb(7,"div",13),o.Tb(8,"mat-form-field",18),o.Ob(9,"input",19),o.Sb(),o.Sb(),o.Tb(10,"div",13),o.Tb(11,"mat-form-field",20),o.Tb(12,"mat-select",21),o.Tb(13,"mat-option",22),o.Ec(14,"Day"),o.Sb(),o.Tb(15,"mat-option",23),o.Ec(16,"Month"),o.Sb(),o.Tb(17,"mat-option",24),o.Ec(18,"Year"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(19,"div",13),o.Tb(20,"mat-form-field",25),o.Ob(21,"input",26),o.Sb(),o.Sb(),o.Tb(22,"div",27),o.bc("click",function(){o.xc(t);const a=e.index,n=o.fc();return n.showDeletePrompt(a,n.packageItemsArray.controls[a].value)}),o.Tb(23,"mat-icon"),o.Ec(24,"delete"),o.Sb(),o.Sb(),o.Qb(),o.Qb()}if(2&t){const t=e.index,a=o.fc();o.Cb(1),o.mc("formGroupName",t),o.Cb(7),o.Ac("visibility",a.packageItemsArray.controls[t].value.isShared?"visible":"hidden")}}let tt=(()=>{class t{constructor(t,e,a,n){this.packageEl=t,this.fb=e,this.dialogRef=a,this.dialog=n,this.packageItemsArray=new u.d([]),t.items.forEach(t=>{this.packageItemsArray.push(this.newPackageItemFormGroup(t))}),this.formGroup=e.group({id:this.packageEl.id,name:[this.packageEl.name,u.v.required],items:this.packageItemsArray})}newPackageItemFormGroup(t){var e,a;return this.fb.group({id:[null!==(e=null==t?void 0:t.id)&&void 0!==e?e:0],name:[null==t?void 0:t.name,[u.v.required]],isShared:[null==t?void 0:t.isShared],numberOfParticipants:[null!==(a=null==t?void 0:t.numberOfParticipants)&&void 0!==a?a:1,[u.v.required]],expirationType:[null==t?void 0:t.expirationType,u.v.required],expirationLength:[null==t?void 0:t.expirationLength,u.v.required]})}submit(){this.dialogRef.close(this.formGroup.value)}ngOnInit(){}showDeletePrompt(t,e){this.dialog.open(m,{data:`Are you sure you want to remove package item ${e.name} ?`}).afterClosed().subscribe(e=>{e&&(this.packageItemsArray.removeAt(t),this.formGroup.markAsDirty())})}addPackageItem(){this.packageItemsArray.push(this.newPackageItemFormGroup())}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(r.a),o.Nb(u.f),o.Nb(r.g),o.Nb(r.b))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-sales-dialog"]],decls:25,vars:4,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column",1,"sales-dialog"],["class","unsaved-changes",4,"ngIf"],["matInput","","formControlName","name","placeholder","Input package name"],["formArrayName","items"],[1,"sales-grid"],[1,"sales-grid-header"],[4,"ngFor","ngForOf"],["mat-dialog-close","","mat-button",""],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-raised-button","",3,"click"],[1,"unsaved-changes"],[3,"formGroupName"],[1,"sales-grid-body"],[1,"package-variation-name"],["formControlName","name","matInput",""],[1,"sales-grid-body","is-shared"],["formControlName","isShared"],[1,"number-of-participants"],["min","1","type","number","formControlName","numberOfParticipants","matInput",""],[1,"expiration-type"],["formControlName","expirationType"],["value","day"],["value","month"],["value","year"],[1,"expiration-length"],["min","1","formControlName","expirationLength","type","number","matInput",""],[1,"sales-grid-body","remove",3,"click"]],template:function(t,e){1&t&&(o.Tb(0,"form",0),o.bc("ngSubmit",function(){return e.submit()}),o.Tb(1,"mat-dialog-content",1),o.Dc(2,W,2,0,"h6",2),o.Tb(3,"mat-form-field"),o.Ob(4,"input",3),o.Sb(),o.Rb(5,4),o.Tb(6,"div",5),o.Tb(7,"div",6),o.Ec(8,"Name"),o.Sb(),o.Tb(9,"div",6),o.Ec(10,"Is Shared ?"),o.Sb(),o.Tb(11,"div",6),o.Ec(12,"Size"),o.Sb(),o.Tb(13,"div",6),o.Ec(14,"Expiration"),o.Sb(),o.Ob(15,"div",6),o.Ob(16,"div",6),o.Dc(17,Z,25,3,"ng-container",7),o.Sb(),o.Qb(),o.Sb(),o.Tb(18,"mat-dialog-actions"),o.Tb(19,"button",8),o.Ec(20,"Cancel"),o.Sb(),o.Tb(21,"button",9),o.Ec(22,"Save"),o.Sb(),o.Tb(23,"button",10),o.bc("click",function(){return e.addPackageItem()}),o.Ec(24,"Add Package Item"),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.mc("formGroup",e.formGroup),o.Cb(2),o.mc("ngIf",e.formGroup.dirty),o.Cb(15),o.mc("ngForOf",e.packageItemsArray.controls),o.Cb(4),o.mc("disabled",e.formGroup.invalid))},directives:[u.w,u.q,u.j,r.e,g.c,n.n,p.c,h.b,u.c,u.p,u.i,u.e,n.m,r.c,l.b,r.d,u.k,J.a,u.t,f.a,C.l,y.a],styles:[".sales-dialog[_ngcontent-%COMP%]{min-width:550px;position:relative}.sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:auto auto auto auto auto auto;grid-column-gap:20px}.sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]   .is-shared[_ngcontent-%COMP%]{justify-self:center;align-self:center}.sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{align-self:center;cursor:pointer}.sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]   .sales-grid-header[_ngcontent-%COMP%]{color:rgba(0,0,0,.7);font-size:.8em}.sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]   .expiration-type[_ngcontent-%COMP%]{width:70px}.sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]   .expiration-length[_ngcontent-%COMP%], .sales-dialog[_ngcontent-%COMP%]   .sales-grid[_ngcontent-%COMP%]   .number-of-participants[_ngcontent-%COMP%]{width:40px}.sales-dialog[_ngcontent-%COMP%]   .unsaved-changes[_ngcontent-%COMP%]{color:red;text-align:right;margin:0;position:absolute;right:23px}"]}),t})();function et(t,e){1&t&&(o.Tb(0,"th",17),o.Ec(1,"Package Settings"),o.Sb())}function at(t,e){if(1&t&&(o.Tb(0,"td",18),o.Ec(1),o.Sb()),2&t){const t=e.$implicit;o.Cb(1),o.Gc(" ",t.name," ")}}function nt(t,e){1&t&&o.Ob(0,"th",17)}function it(t,e){1&t&&o.Ob(0,"td",19)}function ct(t,e){1&t&&o.Ob(0,"th",17)}function ot(t,e){if(1&t){const t=o.Ub();o.Tb(0,"td",19),o.Tb(1,"mat-icon",20),o.bc("click",function(){o.xc(t);const a=e.$implicit;return o.fc().openSalesDialog(a)}),o.Ec(2,"edit"),o.Sb(),o.Sb()}}function st(t,e){1&t&&o.Ob(0,"th",21)}function rt(t,e){1&t&&(o.Tb(0,"td",22),o.Tb(1,"mat-icon"),o.Ec(2,"delete"),o.Sb(),o.Sb())}function lt(t,e){1&t&&o.Ob(0,"tr",23)}function mt(t,e){1&t&&o.Ob(0,"tr",24)}function bt(t,e){1&t&&(o.Tb(0,"tr",25),o.Tb(1,"td",26),o.Ec(2,"No payment methods created yet"),o.Sb(),o.Sb())}const dt=function(){return[5]};let ut=(()=>{class t{constructor(t,e){this.communicationService=t,this.dialog=e,this.columns=["name","items","edit","delete"]}_newPackage(){return{items:[],id:0,name:""}}openSalesDialog(t){const e=t||this._newPackage();this.dialog.open(tt,{data:e}).afterClosed().subscribe(t=>{t&&this.communicationService.savePackage(t)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnDestroy(){}ngOnInit(){this.dataSource=new d.l(this.communicationService.getPackages()),this.packageUpdateSub=this.communicationService.getPackages$().subscribe(t=>this.dataSource.data=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(v.a),o.Nb(r.b))},t.\u0275cmp=o.Hb({type:t,selectors:[["sales-settings"]],viewQuery:function(t,e){if(1&t&&o.Ic(b.a,1),2&t){let t;o.tc(t=o.cc())&&(e.paginator=t.first)}},decls:22,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-between",1,"payment-settings-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","items"],["class","edit-cell","mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["matColumnDef","delete"],["mat-header-cell","",4,"matHeaderCellDef"],["class","delete-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["fxLayoutAlign","space-between center"],["showFirstLastButtons","",3,"hidePageSize","pageSizeOptions"],["mat-mini-fab","",1,"add-button",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"edit-cell"],[3,"click"],["mat-header-cell",""],["mat-cell","",1,"delete-cell"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","3",1,"mat-cell"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"table",1),o.Rb(2,2),o.Dc(3,et,2,0,"th",3),o.Dc(4,at,2,1,"td",4),o.Qb(),o.Rb(5,5),o.Dc(6,nt,1,0,"th",3),o.Dc(7,it,1,0,"td",6),o.Qb(),o.Rb(8,7),o.Dc(9,ct,1,0,"th",3),o.Dc(10,ot,3,0,"td",6),o.Qb(),o.Rb(11,8),o.Dc(12,st,1,0,"th",9),o.Dc(13,rt,3,0,"td",10),o.Qb(),o.Dc(14,lt,1,0,"tr",11),o.Dc(15,mt,1,0,"tr",12),o.Dc(16,bt,3,0,"tr",13),o.Sb(),o.Tb(17,"div",14),o.Ob(18,"mat-paginator",15),o.Tb(19,"button",16),o.bc("click",function(){return e.openSalesDialog()}),o.Tb(20,"mat-icon"),o.Ec(21,"add "),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.Cb(1),o.mc("dataSource",e.dataSource),o.Cb(13),o.mc("matHeaderRowDef",e.columns),o.Cb(1),o.mc("matRowDefColumns",e.columns),o.Cb(3),o.mc("hidePageSize",!0)("pageSizeOptions",o.oc(5,dt)))},directives:[g.c,g.b,d.k,H.a,d.c,d.e,d.b,d.g,d.j,d.h,b.a,l.b,y.a,d.d,H.b,d.a,d.f,d.i],styles:[".delete-cell[_ngcontent-%COMP%], .edit-cell[_ngcontent-%COMP%]{width:30px;cursor:pointer;text-align:center}.delete-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .edit-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;min-width:35px;max-width:35px}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   .table-header-title[_ngcontent-%COMP%]{margin-right:20px}.payment-settings-container[_ngcontent-%COMP%]{height:353px}"]}),t})();const gt=[{path:"",component:(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Hb({type:t,selectors:[["app-settings-page"]],decls:4,vars:0,consts:[[1,"settings-page-wrapper"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Ob(1,"class-settings"),o.Ob(2,"payment-methods-settings"),o.Ob(3,"sales-settings"),o.Sb())},directives:[L,Y,ut],styles:[".settings-page-wrapper[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:50% 50%;grid-column-gap:0;width:100%}.settings-page-wrapper[_ngcontent-%COMP%]   class-settings[_ngcontent-%COMP%]{padding-right:100px}.settings-page-wrapper[_ngcontent-%COMP%]   payment-methods-settings[_ngcontent-%COMP%]{padding-left:100px}.settings-page-wrapper[_ngcontent-%COMP%]   sales-settings[_ngcontent-%COMP%]{margin-top:30px;padding-right:100px}"]}),t})()}];let pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({imports:[[c.f.forChild(gt)],c.f]}),t})(),ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({imports:[[n.c,i.a,pt]]}),t})()}}]);